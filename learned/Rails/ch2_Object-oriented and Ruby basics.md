## 1 オブジェクト指向という考え方
### 1.1 オブジェクト指向プログラミングとは
- 「オブジェクト」というものを設定する。
- 「オブジェクト」の中に必要なロジックを封じ込めて、必要なときにオブジェクトに指示して呼び出す。
オブジェクトとは、、、
- ある目的の振る舞いと、名前などの特徴となる固有の値を持つ。
- 必要なときに呼び出される振る舞いを通し、固有の値を利用して、目的とする処理を行う。

Rubyは全てがオブジェクト
### 1.2 メソッドとカプセル化
振る舞い = メソッド
- オブジェクト固有の動作・自分の行動に必要なロジックを保持している。
- 複数持てる。
- オブジェクト内に隠蔽されていることをカプセル化という。外から処理の中身は見えない。名前（メソッド名）のみが分かる。

### 1.3 従来のプログラミングとオブジェクト志向プログラミングの違い
オブジェクト志向プログラミングではあらかじめ型（クラス）を作り、実体化（インスタンス化）を行なってオブジェクトを利用できるようにする。
同じ型でも個々に違うオブジェクトを作ることができる。

### 1.4 オブジェクト同士の関係
- レシーバー
- 戻り値
- メソッド呼び出し 
```ruby
オブジェクト.メソッド
```

## 2 基本的なRuby文法1：オブジェクト指向
### 2.1 クラスオブジェクト

### 2.2 インスタンスメソッド
```ruby
class Taro
  def name
  @name = "太郎"
  end
end
# `name`メソッドは呼び出し元に@name（ここではTaroを返す）
```
### 2.3 クラスメソッドとインスタンス化
クラスに与えられた`new`という特別なメソッドを使ってインスタンス化
```
インスタンス名 = クラス名.new
```

### 2.4 Rubyのメソッドまとめ
|メソッドの種類|目的|実行形式|
|---|---|---|
|クラスメソッド|クラスに対して実行できる|クラス名.メソッド|
|インスタンスメソッド|インスタンスに対して実行できる|インスタンス名.メソッド|
|プライベートメソッド|１つのクラスの内部で実行できる|メソッド名|

```ruby
# クラスメソッド
def self.メソッド名
  メソッドのロジック
end

# クラスメソッド別の書き方
class << self
  def メソッド名
    メソッドのロジック
  end

# インスタンスメソッド
def メソッド名
  メソッドのロジック
end

# プライベートメソッド
praivate
def メソッド名
  メソッドのロジック
end
```

## 3 基本的なRuby文法2：変数と定数
### 3.1 Rubyプログラムの基本的な仕組み

### 3.2 変数の種類
- グローバル変数 $付ける。どこからでも使える。ほぼ使わない。
- インスタンス変数 @を付ける。インスタンス化時に初期化され、インスタンスで利用できる変数。同じインスタンスないではどのメソッドからも利用できる。他のインスタンスからは利用できない。
- クラス変数 @@を付ける。1つのクラスから作られるすべてのインスタンスで利用できる。
- ローカル変数 何も付けない。１つのメソッド内でのみ有効。
- 定数 普遍的な特定の値を保持市、参照目的の変数として利用。大文字英字を使う。

- シンボル メソッド名・変数名・定数名・クラス名など（Ruby内部では整数値に置き換えられて管理されているもの）を、シンボリックな名前として表している。メソッド指定のオプションなどで使用。

```ruby
class A
   def a1 
    @@hensu = 'クラス1'
    @hensu = 'インスタンス1'
    hensu = 'ローカル1'
    @local = hensu
  end
  def a2
    @@hensu = 'クラス2'
    @hensu = 'インスタンス2'
    hensu = 'ローカル2'
    @local = hensu
  end
  def go
     puts @@hensu
     puts @hensu
     puts @local
   end
 end
=> :go
irb(main):038:0> ins1 = A.new
=> #<A:0x00007fcc5baedec0>
irb(main):039:0> ins2 = A.new
=> #<A:0x00007fcc5ba1f7a0>
irb(main):040:0> ins1.a1
=> "ローカル1"
irb(main):041:0> ins2.a1
=> "ローカル1"
irb(main):042:0> ins2.a2
=> "ローカル2"
irb(main):043:0> ins1.a2
=> "ローカル2"
irb(main):044:0> ins1.a1
=> "ローカル1"
irb(main):045:0> ins1.go
クラス1
インスタンス1
ローカル1
=> nil
irb(main):046:0> ins2.go
クラス1
インスタンス2
ローカル2
=> nil
irb(main):047:0> ins2.a2
=> "ローカル2"
irb(main):048:0> ins2.go
クラス2
インスタンス2
ローカル2
=> nil
```

### 3.4 文字列
### 3.5 変数への代入
### 3.6 グループ化される変数
### 3.7 グループ化される変数

## 4 基本的なRuby文法3：ロジックの組み立て
### 4.1 比較と演算子
### 4.2 処理の基本パターンとRubyによる表現
### 4.3 メソッドに渡す引数
多くの場合はある値渡してそれに基づいた処理を行うことが多い。渡す値のことを引数いう。
### 4.4 戻り値
63Pの「分岐の条件処理と組み合わせた場合の「戻り値」の注意点
> `if~end`で簡潔すること条件は、１つの処理の単位になる。`if~end`の単位で戻り値が評価されていくため、戻り値として返したい変数は、最後に明示する必要がある。
### 4.5 ブロック処理
メソッドを処理する際に、メソッドから渡される変数と一緒に処理を行う。一連のロジックの「かたまり」です。

## 5 Rubyでオブジェクトを活用する
### 5.1 Rubyでは全てがオブジェクト
`オブジェクト.class`→何のクラス（オブジェクトの型）かが分かる
`オブジェクト.methods`→インスタンス自身が持っているメソッドが分かる
### 5.2 オブジェクトの継承
`オブジェクト.superclass`
#### メソッドのオーバーライド（上書き継承）
親クラスのメソッドを、、、
- 一部変更する
- 何か加える
ことが可能。
`super`というメソッドを使うことで、親クラスの処理をそのまま実行することができる。
```ruby
class < Person
  def speak
    puts "言葉を話す"
  end
end

class Japanese < Person
  def speak
    super
    puts "日本語を話す"
  end
end

# taro = Japanese.new
# taro.speak

# 言葉を話す
# 日本語を話す
```

### 5.3 インスタンスへの初期値のセット
`initialize`メソッドを使うと、インスタンス化するときのインスタンスの固有値を初期値として設定できる
`initialize`メソッドは.newの際に必ず実行されるメソッド。
```ruby
class Human
  def initialize(p_name)
    @name = (p_name)
  end

  def name
    @p_name
  end
end

taro = Human.new('山田太郎)
puts taro.name => 山田太郎
```
### 5.4 異なるインスタンス間の情報のやり取り
`attr_accessor`メソッドを使う = インスタンス変数の内容を参照するためのメソッド
```ruby
class Human
  attr_accessor :name # インスタンス変数から@を除いた残りが名前になる

  def initialize(p_name)
    @name = p_name
  end
end
```
`attr_accessor`メソッドは以下のコードを簡略化したもの
```ruby
class Human
  def name=(arg)
    @name = (arg)
  end

  def name
    @name
  end
end
```
```ruby
class Human
  attr_accessor :name # インスタンス変数から@を除いた残りが名前になる

  def initialize(aaa)
    @name = aaa
  end

  def handshake(otherperson)
    puts "#{self.name}さんは#{otherperson.name}さんと握手をしました"
  end
  # selfは省略できる
  
  yamada = Human.new("山田太郎")
  tanaka = Human.new("田中明子")
  
  yamada.handshake(tanaka) => 山田太郎さんは田中明子さんと握手をしました。
end
```
